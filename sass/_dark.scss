@import '_variables.scss';

// dark mode support
@media (prefers-color-scheme: dark) {
    $text: #524f52;
    $bg: #333;
    $text-dark: darken($text, 5);
    $text-light: lighten($text, 5);
    $light: lighten($text, 20);

    .table {
        color: #fff;
    }

    .form-control-plaintext {
        color: #fff;
        border-color: $light !important;
    }

    #menu-toggle {
        background-color: $bg;

        &:hover {
            background-color: darken($bg, 10);
        }

        &.toggled {
            background-color: $dark;
        }
    }

    blockquote {
        color: $light;
        background: lighten($bg, 10);

        code {
            color: $light;
        }
    }

    a:visited {
        color: $light;
    }

    #page-content-wrapper,
    #sidebar-wrapper {
        background: $bg;
    }

    #page-content-wrapper {
        color: white;

        .accordion-item {
            background-color: transparent;
        }

        .accordion-button::after {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='rgb(255,255,255)'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
        }
    }

    // darken images to reduce contrast on dark background
    img {
        filter: brightness(0.8) contrast(1.2);
    }

    .card.border-light {
        border: 0;
    }

    .btn-dark {
        background-color: $text;
        border-color: $text;

        &:hover {
            background-color: $text-dark;
            border-color: $text-dark;
        }
    }

    .btn-outline-dark,
    .btn-outline-light {
        border-color: $light;
        color: $light;

        &.disabled {
            color: $text-dark;
        }

        &:hover {
            background-color: $light;
            border-color: #000;
        }
    }

    #info {
        color: $light !important;
    }
}
