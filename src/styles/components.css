@tailwind components;

@layer components {
	body {
		@apply text-gray-700 body-bg;
	}

	h1,
	h2,
	h3,
	h4 {
		@apply text-base;
	}

	a {
		@apply text-adaptive text-adaptive-hoverable;
	}

	/* Prose adjustements */
	blockquote {
		@apply border-l-theme-dark border-solid border-l-2 bg-slate-50 shadow bg-opacity-50 !important;
	}

	.prose-extension {
		@apply px-2 mx-auto max-w-[100vw] md:max-w-[65ch] !important;

		& a {
			@apply underline decoration-slate-400 hover:decoration-slate-900;
		}
	}

	.prose :where(blockquote p:last-of-type):not(:where([class~='not-prose'] *)) {
		&::after,
		&::before {
			content: '' !important;
		}
	}

	/* Prisma adjustements */
	pre {
		@apply mt-0 rounded-t-none text-black !important;
	}

	pre,
	.token.operator {
		@apply bg-transparent overflow-x-scroll !important;
	}

	/* Navbar */
	header {
	}

	.navbar {
		@apply container mx-auto flex flex-nowrap p-5 flex-row items-center justify-between;
	}

	.nav-title {
		@apply flex font-medium gap-3 items-center text-base;

		& span {
			@apply hidden md:block;
		}
	}

	.nav-btn-group {
		@apply md:ml-auto md:mr-auto gap-2 flex-wrap items-center text-base justify-center hidden md:flex;

		& a {
			@apply hover:cursor-pointer hover:underline text-adaptive transition-all duration-300;

			&.active {
				@apply font-bold;
			}
		}
	}

	.nav-action {
		@apply p-3 md:py-1 flex items-center justify-between no-underline text-slate-100 border-0 focus:outline-none transition-all ease-in-out duration-500 rounded gap-3;
	}

	.nav-toggle {
		@apply bg-theme-neutral nav-action md:hidden fixed top-[1.25rem];
	}

	.nav-search {
		@apply bg-theme nav-action;
	}

	.sidebar-backdrop {
		@apply z-40 w-full h-screen fixed top-0 transition-opacity duration-200 opacity-0 hidden bg-slate-100 bg-opacity-60;

		&-open {
			@apply block opacity-100;
		}
	}

	.sidebar {
		@apply z-50 w-60 h-screen p-3 pt-5 fixed top-0 transition-transform duration-300 -translate-x-full bg-slate-200;

		&-open {
			@apply translate-x-[0%];
		}
	}

	.sidebar-section {
		@apply md:w-1/2 w-full;

		& > span {
			@apply font-medium text-gray-900 tracking-widest text-sm mb-3;
		}

		& ul {
			@apply list-none mb-10;

			& li {
				@apply mt-2;

				& a {
					@apply text-slate-800 transition-colors duration-300 flex flex-row gap-1 items-center p-1;
				}
			}
		}
	}

	/* Sidebar */
	.toc-container {
		@apply bg-slate-50 justify-self-start px-2 py-1 h-fit  border-t-2 shadow rounded border-solid border-theme-neutral md:mx-0 mx-auto;

		&-lg {
			@apply hidden lg:block w-72 top-2 sticky;
		}

		&-sm {
			@apply lg:hidden w-80;
		}
	}

	.toc-inner-container {
		@apply bg-slate-50;
	}

	.toc-dropdown {
		@apply flex flex-col gap-0;
	}

	.toc-btn {
		@apply flex w-full bg-transparent justify-between px-2 items-center border-l-2 border-solid border-transparent;

		&-active {
			@apply border-theme-dark;
		}
	}

	.toc-list {
		@apply bg-slate-50 pl-8 list-none h-auto max-h-fit overflow-y-hidden transition-all duration-500;

		&-standalone {
			@apply toc-list pl-0;
		}

		&-collapsed {
			@apply max-h-0;
		}
	}

	.toc-menu {
		@apply flex flex-col gap-1;

		& a {
			@apply border-l-2 leading-none px-2 border-transparent border-solid;

			&.active {
				@apply border-theme;
			}
		}
	}

	/* Footer */
	.footer-container {
		@apply container px-5 pb-2 pt-10 mt-10 mb-0 mx-auto flex md:items-center lg:items-start md:flex-row md:flex-nowrap flex-wrap flex-col;
	}

	.footer-logo {
		@apply w-64 flex-shrink-0 md:mx-0 mx-auto text-center md:text-left;

		& a {
			@apply flex font-medium items-center md:justify-start justify-center text-base;

			& svg {
				@apply w-12 h-12;
			}

			& span {
				@apply ml-3 text-xl;

				& span {
					@apply text-transparent bg-gradient bg-clip-text ml-0 hover:text-inherit hover:bg-transparent;
				}
			}
		}

		& p {
			@apply mt-2 text-sm text-adaptive;
		}
	}

	.footer-section-container {
		@apply flex-grow flex flex-wrap md:pl-20 -mb-10 md:mt-0 mt-10 md:text-left text-center;
	}

	.footer-section {
		@apply md:w-1/2 w-full px-4;

		& > span {
			@apply font-medium text-gray-900 tracking-widest text-sm mb-3;
		}

		& ul {
			@apply list-none mb-10;

			& li a {
				@apply text-gray-600 hover:text-gray-800 flex flex-row gap-1 items-center;
			}
		}
	}

	/* codetitle support */
	.codewrapper {
		@apply bg-slate-100 shadow;
	}

	.codetitle {
		@apply px-4 flex mb-0 mt-2 bg-slate-50 flex-row justify-between border-solid border-2 border-gray-300 rounded-tl rounded-tr;

		&-btn-group {
			@apply flex gap-2 flex-row;
		}
	}

	.codetitle-btn > svg {
		@apply w-6 h-6 hover:text-gray-500 ease-in-out duration-300;
	}

	/* gradient background */
	.bg-gradient {
		@apply bg-gradient-to-l from-theme to-opposite-theme;
	}

	.bg-gradient-reverse {
		@apply bg-gradient-to-r from-theme to-opposite-theme;
	}

	/* Main layout */
	main {
		@apply container flex min-h-screen justify-start items-center flex-col w-full mx-auto;
	}

	/* Index */
	.quote-card {
		@apply hidden text-slate-100 md:flex flex-col leading-relaxed border-solid border-2 rounded p-4 justify-around items-center md:w-1/2 w-full shadow bg-gradient;

		#bar {
			@apply inline-block h-1 w-10 rounded bg-emerald-500 mx-2;
		}

		& h2 {
			@apply font-medium tracking-wider text-sm;
		}

		& p {
			@apply text-lg;
		}
	}

	/* Button group support */
	.btn-group {
		@apply flex flex-row;

		& > :last-child {
			@apply rounded-l-none;
		}

		& > :first-child {
			@apply rounded-r-none;
		}
	}
}
