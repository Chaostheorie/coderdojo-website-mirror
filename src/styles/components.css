@tailwind components;

@layer components {
  body {
    @apply body-bg text-gray-700;
  }

  h1,
  h2,
  h3,
  h4 {
    @apply text-base;
  }

  a {
    @apply text-adaptive text-adaptive-hoverable;
  }

  /* Prose adjustements */
  blockquote {
    @apply border-l-2 border-solid border-l-theme-dark bg-slate-50 bg-opacity-50 shadow !important;
  }

  .prose {
    &-extension {
      @apply mx-auto max-w-[100vw] px-2 md:max-w-[65ch] !important;

      & a {
        @apply underline decoration-slate-400 hover:decoration-slate-900;
      }
    }

    & :where(blockquote p:last-of-type):not(:where([class~="not-prose"] *))::after,
    & :where(blockquote p:first-of-type):not(:where([class~="not-prose"] *))::before {
      content: "";
    }
  }

  /* Prisma adjustements */
  pre {
    @apply mt-0 overflow-x-scroll rounded-t-none !important;
  }

  /* Navbar */
  .navbar {
    @apply container mx-auto flex flex-row flex-nowrap items-center justify-between p-5;
  }

  .nav {
    &-title {
      @apply flex items-center gap-3 text-base font-medium;

      & span {
        @apply hidden md:block;
      }
    }

    &-btn-group {
      @apply hidden flex-wrap items-center justify-center gap-2 text-base md:ml-auto md:mr-auto md:flex;

      & a {
        @apply text-adaptive transition-all duration-300 hover:cursor-pointer hover:underline;

        &.active {
          @apply font-bold;
        }
      }
    }

    &-action {
      @apply flex items-center justify-between gap-3 rounded border-0 p-3 text-slate-100 no-underline transition-all duration-500 ease-in-out focus:outline-none md:py-1;
    }

    &-toggle {
      @apply nav-action fixed top-[1.25rem] bg-theme-neutral md:hidden;
    }

    &-search {
      @apply nav-action bg-theme;
    }
  }

  .sidebar {
    @apply fixed top-0 z-50 h-screen w-60 -translate-x-full bg-slate-200 p-3 pt-5 transition-transform duration-300;

    &-backdrop {
      @apply fixed top-0 z-40 hidden h-screen w-full bg-slate-100 bg-opacity-60 opacity-0 transition-opacity duration-200;

      &-open {
        @apply block opacity-100;
      }
    }

    &-open {
      @apply translate-x-[0%];
    }

    &-section {
      @apply w-full lg:w-1/2;

      & > span {
        @apply mb-3 text-sm font-medium tracking-widest text-gray-900;
      }

      & ul {
        @apply mb-10 list-none;

        & li {
          @apply mt-2;

          & a {
            @apply flex flex-row items-center gap-1 p-1 text-slate-800 transition-colors duration-300;
          }
        }
      }
    }
  }

  /* Sidebar */
  .toc {
    &-container {
      @apply mx-2 h-fit min-w-[80%] justify-self-start rounded border-t-2 border-solid border-theme-neutral bg-slate-50 px-2 py-1 shadow md:min-w-[10rem] lg:mx-auto;
    }

    &-inner-container {
      @apply bg-slate-50;
    }

    &-dropdown {
      @apply flex flex-col gap-0;
    }

    &-btn {
      @apply flex w-full items-center justify-between border-l-2 border-solid border-transparent bg-transparent px-2;

      &-active {
        @apply border-theme-dark;
      }
    }

    &-list {
      @apply h-auto max-h-fit list-none overflow-y-hidden bg-slate-50 pl-8 transition-all duration-500;

      &-standalone {
        @apply toc-list pl-0;
      }

      &-collapsed {
        @apply max-h-0;
      }
    }

    &-menu {
      @apply flex flex-col gap-1;

      & a {
        @apply border-l-2 border-solid border-transparent px-2 leading-none;

        &.active {
          @apply border-theme;
        }
      }
    }
  }

  /* Footer */
  .footer-container {
    @apply container mx-auto mt-10 mb-0 flex flex-col flex-wrap px-5 pb-2 pt-10 md:flex-row md:flex-nowrap md:items-center lg:items-start;
  }

  .footer-logo {
    @apply mx-auto w-64 flex-shrink-0 text-center md:mx-0 md:text-left;

    & a {
      @apply flex items-center justify-center text-base font-medium md:justify-start;

      & svg {
        @apply h-12 w-12;
      }

      & span {
        @apply ml-3 text-xl;

        & span {
          @apply bg-gradient ml-0 bg-clip-text text-transparent hover:bg-transparent hover:text-inherit;
        }
      }
    }

    & p {
      @apply text-adaptive mt-2 text-sm;
    }
  }

  .footer-section-container {
    @apply -mb-10 mt-10 flex flex-grow flex-wrap text-center md:mt-0 md:pl-20 md:text-left;
  }

  .footer-section {
    @apply w-full px-4 md:w-1/2;

    & > span {
      @apply mb-3 text-sm font-medium tracking-widest text-gray-900;
    }

    & ul {
      @apply mb-10 list-none;

      & li a {
        @apply flex flex-row items-center gap-1 text-gray-600 hover:text-gray-800;
      }
    }
  }

  /* codetitle support */
  .codewrapper {
    @apply shadow;

    & pre {
      @apply px-4 py-2;
    }
  }

  .codetitle {
    @apply mb-0 mt-2 flex flex-row justify-between rounded-tl rounded-tr border-2 border-solid border-gray-300 bg-slate-50 px-4;

    &-btn-group {
      @apply flex flex-row gap-2;
    }

    &-btn > svg {
      @apply h-6 w-6 duration-300 ease-in-out hover:text-gray-500;
    }
  }

  /* Main layout */
  main {
    @apply container mx-auto flex min-h-screen w-full flex-col items-center justify-start;
  }

  /* Index */
  .quote-card {
    @apply bg-gradient hidden w-full flex-col items-center justify-around rounded border-2 border-solid p-4 leading-relaxed text-slate-100 shadow md:flex md:w-1/2;

    #bar {
      @apply mx-2 inline-block h-1 w-10 rounded bg-emerald-500;
    }

    & h2 {
      @apply text-sm font-medium tracking-wider;
    }

    & p {
      @apply text-lg;
    }
  }

  /* Footer */
  .footer-container {
    @apply container mx-auto mt-10 mb-0 flex flex-col flex-wrap px-5 pb-2 pt-10 md:flex-row md:flex-nowrap md:items-center lg:items-start;
  }

  .footer-logo {
    @apply mx-auto w-64 flex-shrink-0 text-center md:mx-0 md:text-left;

    & a {
      @apply flex items-center justify-center text-base font-medium md:justify-start;

      & svg {
        @apply h-12 w-12;
      }

      & span {
        @apply ml-3 text-xl;

        & span {
          @apply bg-gradient ml-0 bg-clip-text text-transparent hover:bg-transparent hover:text-inherit;
        }
      }
    }

    & p {
      @apply text-adaptive mt-2 text-sm;
    }
  }

  .footer-section-container {
    @apply -mb-10 mt-10 flex flex-grow flex-wrap text-center md:mt-0 md:pl-20 md:text-left;
  }

  .footer-section {
    @apply w-full px-4 md:w-1/2;

    & > span {
      @apply mb-3 text-sm font-medium tracking-widest text-gray-900;
    }

    & ul {
      @apply mb-10 list-none;

      & li a {
        @apply flex flex-row items-center gap-1 text-gray-600 hover:text-gray-800;
      }
    }
  }

  /* Button group support */
  .btn-group {
    @apply flex flex-col gap-3 md:flex-row;

    & > button,
    & > a {
      @apply rounded;
    }
  }
}
